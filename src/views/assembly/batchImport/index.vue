<template>
	<div class="card content-box">
		<a-alert class="w-100 mb-20" message="æ‰¹é‡æ·»åŠ æ•°æ®" description="æ”¯æŒExcelæ•°æ®ä¸Šä¼ " type="info" />
		<a-button type="primary" @click="batchAdd">
			<template #icon><upload-outlined /></template>
			æ‰¹é‡æ·»åŠ æ•°æ®
		</a-button>
		<ImportExcel ref="importRef" />
		<a-descriptions title="é…ç½®é¡¹ï¼ˆé€šè¿‡ ref ä¼ é€’ï¼‰ ğŸ“š" :column="1" bordered class="w-100" size="small">
			<a-descriptions-item label="title"> ç»„ä»¶æ˜¾ç¤ºæ ‡é¢˜ && ä¸Šä¼ æˆåŠŸä¹‹åæç¤ºä¿¡æ¯ </a-descriptions-item>
			<a-descriptions-item label="fileSize"> ä¸Šä¼ æ–‡ä»¶å¤§å°ï¼Œé»˜è®¤ä¸º 5M </a-descriptions-item>
			<a-descriptions-item label="fileType">
				ä¸Šä¼ æ–‡ä»¶ç±»å‹é™åˆ¶ï¼Œé»˜è®¤ç±»å‹ä¸º ["application/vnd.ms-excel",
				"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"]
			</a-descriptions-item>
			<a-descriptions-item label="tempApi"> ä¸‹è½½æ¨¡æ¿çš„ Api </a-descriptions-item>
			<a-descriptions-item label="importApi"> ä¸Šä¼ æ•°æ®çš„ Api </a-descriptions-item>
			<a-descriptions-item label="getTableList"> ä¸Šä¼ æ•°æ®æˆåŠŸä¹‹åï¼Œåˆ·æ–°è¡¨æ ¼æ•°æ®çš„ Api </a-descriptions-item>
		</a-descriptions>
	</div>
</template>

<script setup lang="ts" name="batchImport">
import { ref } from "vue";
import { exportUserInfo, BatchAddUser } from "@/api/modules/user";
import ImportExcel from "@/components/ImportExcel/index.vue";

const importRef = ref();
const batchAdd = () => {
	let params = {
		title: "æ•°æ®",
		tempApi: exportUserInfo,
		importApi: BatchAddUser
	};
	importRef.value.acceptParams(params);
};
</script>

<style scoped lang="less">
@import url("./index.less");
</style>
